<!-- Backend Integration Section -->
<section id="backend-section" style="padding: 40px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
    <div class="container">
        <h2 style="text-align: center; margin-bottom: 30px; font-size: 2.5rem;">🎮 Live Backend Dashboard</h2>
        
        <!-- Stats Dashboard -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
            <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center; backdrop-filter: blur(10px);">
                <h3>Total Games</h3>
                <div id="stats-games" style="font-size: 2rem; font-weight: bold;">0</div>
            </div>
            <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center; backdrop-filter: blur(10px);">
                <h3>Total Users</h3>
                <div id="stats-users" style="font-size: 2rem; font-weight: bold;">0</div>
            </div>
            <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center; backdrop-filter: blur(10px);">
                <h3>Total Players</h3>
                <div id="stats-players" style="font-size: 2rem; font-weight: bold;">0</div>
            </div>
            <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center; backdrop-filter: blur(10px);">
                <h3>Total Balance</h3>
                <div id="stats-balance" style="font-size: 2rem; font-weight: bold;">0</div>
            </div>
        </div>

        <!-- Control Buttons -->
        <div style="text-align: center; margin-bottom: 30px;">
            <button onclick="backendManager.addNewGame()" style="background: #10b981; color: white; border: none; padding: 12px 24px; margin: 5px; border-radius: 5px; cursor: pointer; font-size: 1rem;">
                ➕ Add Random Game
            </button>
            <button onclick="backendManager.addNewUser()" style="background: #3b82f6; color: white; border: none; padding: 12px 24px; margin: 5px; border-radius: 5px; cursor: pointer; font-size: 1rem;">
                👤 Add Random User
            </button>
            <button onclick="backendManager.updateStats()" style="background: #f59e0b; color: white; border: none; padding: 12px 24px; margin: 5px; border-radius: 5px; cursor: pointer; font-size: 1rem;">
                🔄 Update Stats
            </button>
            <button onclick="backendManager.viewAllData()" style="background: #8b5cf6; color: white; border: none; padding: 12px 24px; margin: 5px; border-radius: 5px; cursor: pointer; font-size: 1rem;">
                📊 View All Data
            </button>
        </div>

        <!-- Live Data Display -->
        <div id="backend-data" style="background: rgba(255,255,255,0.95); color: #333; padding: 20px; border-radius: 10px; margin-top: 20px;">
            <h3 style="text-align: center; color: #2c3e50;">Live Backend Data</h3>
            <div id="data-display" style="max-height: 400px; overflow-y: auto;">
                <p style="text-align: center;">Click buttons above to interact with backend...</p>
            </div>
        </div>
    </div>
</section>

<script>
// Backend Manager Class
class BackendManager {
    constructor() {
        this.data = this.loadData();
        this.updateDashboard();
    }

    loadData() {
        const saved = localStorage.getItem('xgaming-backend-data');
        if (saved) {
            return JSON.parse(saved);
        }
        
        // Initial data
        return {
            success: true,
            message: "🎮 XGaming Live Backend",
            status: "Online",
            games: [
                {id: 1, name: "PUBG Mobile", players: 5000, price: 0, genre: "Battle Royale", image: "/api/placeholder/300/200"},
                {id: 2, name: "Free Fire", players: 3200, price: 0, genre: "Battle Royale", image: "/api/placeholder/300/200"},
                {id: 3, name: "COD Mobile", players: 2800, price: 0, genre: "FPS", image: "/api/placeholder/300/200"}
            ],
            users: [
                {id: 1, username: "pro_gamer", balance: 1000, level: 25, country: "USA", avatar: "👤"},
                {id: 2, username: "elite_player", balance: 1500, level: 30, country: "UK", avatar: "🎮"}
            ],
            lastUpdated: new Date().toISOString()
        };
    }

    saveData() {
        localStorage.setItem('xgaming-backend-data', JSON.stringify(this.data));
    }

    updateDashboard() {
        document.getElementById('stats-games').textContent = this.data.games.length;
        document.getElementById('stats-users').textContent = this.data.users.length;
        document.getElementById('stats-players').textContent = 
            this.data.games.reduce((sum, game) => sum + game.players, 0).toLocaleString();
        document.getElementById('stats-balance').textContent = 
            '₹' + this.data.users.reduce((sum, user) => sum + user.balance, 0).toLocaleString();
    }

    async addNewGame() {
        const gameNames = ["Mobile Legends", "Clash of Clans", "Genshin Impact", "Roblox", "Minecraft", "Fortnite"];
        const genres = ["MOBA", "Strategy", "RPG", "Sandbox", "Adventure", "Battle Royale"];
        
        const newGame = {
            id: Date.now(),
            name: gameNames[Math.floor(Math.random() * gameNames.length)],
            players: Math.floor(Math.random() * 8000) + 1000,
            price: Math.random() > 0.8 ? (Math.random() * 10).toFixed(2) : 0,
            genre: genres[Math.floor(Math.random() * genres.length)],
            image: "/api/placeholder/300/200",
            added: new Date().toISOString()
        };
        
        this.data.games.push(newGame);
        this.data.lastUpdated = new Date().toISOString();
        this.saveData();
        this.updateDashboard();
        
        this.showData('🎮 New Game Added!', {
            game: newGame,
            totalGames: this.data.games.length,
            message: "Game successfully added to database"
        });
        
        // Update your main games display if needed
        this.updateMainGamesDisplay();
    }

    async addNewUser() {
        const usernames = ["dragon_slayer", "shadow_hunter", "epic_warrior", "mage_king", "stealth_ninja"];
        const countries = ["USA", "UK", "Canada", "Australia", "Germany", "Japan"];
        const avatars = ["👤", "🎮", "⚔️", "🛡️", "🏹", "🔮"];
        
        const newUser = {
            id: Date.now(),
            username: usernames[Math.floor(Math.random() * usernames.length)] + Math.floor(Math.random() * 1000),
            balance: Math.floor(Math.random() * 5000) + 500,
            level: Math.floor(Math.random() * 100) + 1,
            country: countries[Math.floor(Math.random() * countries.length)],
            avatar: avatars[Math.floor(Math.random() * avatars.length)],
            joined: new Date().toISOString()
        };
        
        this.data.users.push(newUser);
        this.data.lastUpdated = new Date().toISOString();
        this.saveData();
        this.updateDashboard();
        
        this.showData('👤 New User Registered!', {
            user: newUser,
            totalUsers: this.data.users.length,
            message: "User successfully registered"
        });
    }

    updateStats() {
        this.data.games.forEach(game => {
            game.players = Math.floor(Math.random() * 7000) + 1000;
        });
        
        this.data.users.forEach(user => {
            user.balance += Math.floor(Math.random() * 500) - 100;
            if (user.balance < 0) user.balance = 0;
            user.level = Math.min(100, user.level + Math.floor(Math.random() * 3));
        });
        
        this.data.lastUpdated = new Date().toISOString();
        this.saveData();
        this.updateDashboard();
        
        this.showData('🔄 Statistics Updated!', {
            lastUpdated: this.data.lastUpdated,
            totalGames: this.data.games.length,
            totalUsers: this.data.users.length,
            totalPlayers: this.data.games.reduce((sum, game) => sum + game.players, 0),
            totalBalance: this.data.users.reduce((sum, user) => sum + user.balance, 0)
        });
    }

    viewAllData() {
        this.showData('📊 Complete Backend Data', this.data);
    }

    showData(title, data) {
        const display = document.getElementById('data-display');
        
        let content = `
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                <h4 style="color: #2c3e50; margin-bottom: 10px;">${title}</h4>
        `;
        
        if (data.games || data.users) {
            // Show formatted data
            if (data.games) {
                content += `<h5 style="color: #667eea; margin: 15px 0 10px 0;">🎮 Games (${data.games.length})</h5>`;
                data.games.forEach(game => {
                    content += `
                        <div style="background: white; padding: 10px; margin: 5px 0; border-radius: 5px; border-left: 4px solid #667eea;">
                            <strong>${game.name}</strong> - ${game.players} players
                            <br><small>Genre: ${game.genre} | Price: ${game.price === 0 ? 'Free' : '₹' + game.price}</small>
                        </div>
                    `;
                });
            }
            
            if (data.users) {
                content += `<h5 style="color: #667eea; margin: 15px 0 10px 0;">👥 Users (${data.users.length})</h5>`;
                data.users.forEach(user => {
                    content += `
                        <div style="background: white; padding: 10px; margin: 5px 0; border-radius: 5px; border-left: 4px solid #10b981;">
                            ${user.avatar} <strong>${user.username}</strong>
                            <br><small>Balance: ₹${user.balance} | Level: ${user.level} | ${user.country}</small>
                        </div>
                    `;
                });
            }
        } else {
            content += `<pre style="background: white; padding: 15px; border-radius: 5px; overflow-x: auto;">${JSON.stringify(data, null, 2)}</pre>`;
        }
        
        content += `</div>`;
        display.innerHTML = content;
    }

    updateMainGamesDisplay() {
        // This function can update your main games section
        // You'll need to customize this based on your existing games display
        console.log('Backend updated - refresh your games display if needed');
    }
}

// Initialize backend manager
const backendManager = new BackendManager();

// Auto-load data when page loads
window.addEventListener('load', function() {
    backendManager.viewAllData();
});
</script>
